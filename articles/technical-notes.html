<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technical notes • pacehrh</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Technical notes">
<meta property="og:description" content="pacehrh">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pacehrh</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/pacehrh.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/input-validation.html">Input validation rules</a>
    </li>
    <li>
      <a href="../articles/results-struct.html">The results structure</a>
    </li>
    <li>
      <a href="../articles/technical-notes.html">Technical notes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Technical notes</h1>
                        <h4 data-toc-skip class="author">Charles
Eliot</h4>
            
            <h4 data-toc-skip class="date">2022-09-20</h4>
      
      
      <div class="hidden name"><code>technical-notes.Rmd</code></div>

    </div>

    
    
<p>Technical notes about the PACE-HRH package</p>
<div class="section level2">
<h2 id="global-configuration">Global configuration<a class="anchor" aria-label="anchor" href="#global-configuration"></a>
</h2>
<p>The term global configuration refers to system-wide variables set up
when the PACE-HRH package is started. The most important of these is the
location of the <strong>input data spreadsheet</strong> - the Excel
spreadsheet that defines experiment scenarios, baseline population data,
clinical task descriptions, health-worker cadres, etc.</p>
<p>The file <em>globalconfig.json</em> contains declarations for global
configuration variables. The package reads <em>globalconfig.json</em>
from the R working directory (<code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>) when the package is
initialized using any of the <code>Initialize___</code> functions.</p>
<p>The package sets the variable GPE$globalConfigLoaded to TRUE once
<em>globalconfig.json</em> has been read.</p>
<pre><code>&gt; pacehrh:::GPE$globalConfigLoaded
[1] TRUE</code></pre>
<div class="section level3">
<h3 id="the-default-global-configuration-file">The default global configuration file<a class="anchor" aria-label="anchor" href="#the-default-global-configuration-file"></a>
</h3>
<p>If the package can’t find a <em>globalconfig.json</em> it will use
the following default values.</p>
<pre><code>{
  "configDirectoryLocation" : "./config",
  "inputExcelFile" : "model_inputs.xlsx",
  "suiteRngSeed" : 12345,
  "startYear" : 2020,
  "endYear" : 2040
}</code></pre>
<p>If you want to override these defaults by writing your own
<em>globalconfig.json</em> file, we’ve provided a sample in the
<em>util</em> directory of the GitHub repository.</p>
</div>
<div class="section level3">
<h3 id="global-configuration-variables">Global configuration variables<a class="anchor" aria-label="anchor" href="#global-configuration-variables"></a>
</h3>
<ul>
<li>
<em>configDirectoryLocation</em>: The location of the directory
where configuration data is to be found. The default is a
<em>config</em> sub-directory of the working directory.</li>
<li>
<em>inputExcelFile</em>: The name of the input data spreadsheet
file. The default value is “model_inputs.xlsx”. The default setup
directs the package to look for the input data spreadsheet file at
“config/model_inputs.xlsx”.</li>
<li>
<em>suiteRngSeed</em>: The PACE-HRH package makes extensive use of
random number generation. Before each suite of stochastic trials, the
system calls the R function <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> with a random number
seed value. The system uses a seed value provided by the user in the
<code>seed =</code> parameter of the <code><a href="../reference/RunExperiments.html">RunExperiments()</a></code>
function, or this global configuration value.</li>
<li>
<em>startYear</em>: Starting year for simulations. Default =
2020.</li>
<li>
<em>endYear</em>: Ending year for simulations. Default = 2040. Note:
Users can also use the <code><a href="../reference/SetGlobalStartEndYears.html">SetGlobalStartEndYears()</a></code> function to
set start and end years.</li>
</ul>
</div>
<div class="section level3">
<h3 id="setting-global-configuration-variables-programmatically">Setting global configuration variables programmatically<a class="anchor" aria-label="anchor" href="#setting-global-configuration-variables-programmatically"></a>
</h3>
<p>Users can set the global configuration programmatically with the
<code>setGlobalConfig()</code> function.</p>
</div>
</div>
<div class="section level2">
<h2 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h2>
<ul>
<li>
<em>Trial</em>: A single prediction of healthcare task impacts.
PACE-HRH performs several stochasically varied trials to measure
potential variation in the predictions.</li>
<li>
<em>Experiment</em>: synonym for <em>trial</em>.</li>
<li>
<em>Suite</em>: A set of stochastic trials based on a scenario.</li>
<li>
<em>Scenario</em>: A set of configuration parameters for a suite.
Scenarios are defined by entries in the <em>Scenario</em> sheet of the
input data spreadsheet.</li>
</ul>
</div>
<div class="section level2">
<h2 id="environments">Environments<a class="anchor" aria-label="anchor" href="#environments"></a>
</h2>
<p>The PACE-HRH package uses three R environments.</p>
<p><strong>pacehrh:::globalPackageEnvironment</strong> (alias
pacehrh:::GPE) stores configuration information for the entire
package.</p>
<p><strong>pacehrh:::baseValuesEnvironment</strong> (alias
pacehrh:::BVE) stores the base values for stochastic trials.</p>
<p><strong>pacehrh:::experimentValuesEnvironment</strong> (alias
pacehrh:::EXP) stores the actual values, after applying stochastic
variation, used in each trial.</p>
<p>At the start of a suite of trials (<code><a href="../reference/RunExperiments.html">RunExperiments()</a></code>),
baseline information is loaded into the BVE environment. For each trial
in the suite, stochastic variations are applied to values in the BVE,
and the new values are saved in the EXP environment. The trial is then
run based on the values in the EXP environment.</p>
<p>You can view the current contents of any of the environments with R’s
<code><a href="https://rdrr.io/r/utils/ls_str.html" class="external-link">ls.str()</a></code> command.</p>
</div>
<div class="section level2">
<h2 id="links">Links<a class="anchor" aria-label="anchor" href="#links"></a>
</h2>
<p>For more information on the RStudio working directory, see <a href="https://support.rstudio.com/hc/en-us/articles/200711843-Working-Directories-and-Workspaces-in-the-RStudio-IDE" class="external-link">RStudio
support</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Charles Eliot.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
